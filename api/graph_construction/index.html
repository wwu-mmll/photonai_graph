
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/img/photonai-02.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>Graph Construction - PHOTONAI - Graph</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
      
    
    
    
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/material.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#graph-construction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PHOTONAI - Graph" class="md-header__button md-logo" aria-label="PHOTONAI - Graph" data-md-component="logo">
      
  <img src="../../assets/img/photonai-01.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PHOTONAI - Graph
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Graph Construction
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/wwu-mmll/photonai-graph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    photonai-graph
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PHOTONAI - Graph" class="md-nav__button md-logo" aria-label="PHOTONAI - Graph" data-md-component="logo">
      
  <img src="../../assets/img/photonai-01.png" alt="logo">

    </a>
    PHOTONAI - Graph
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/wwu-mmll/photonai-graph" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    photonai-graph
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/" class="md-nav__link">
        PHOTONAI Graph Workflow
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../extending_photonai_graph/" class="md-nav__link">
        Extending PHOTONAI Graph
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        API Introduction
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Graph Construction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Graph Construction
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#graphconstructor" class="md-nav__link">
    GraphConstructor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphconstructorthreshold" class="md-nav__link">
    GraphConstructorThreshold
  </a>
  
    <nav class="md-nav" aria-label="GraphConstructorThreshold">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#photonai_graph.GraphConstruction.graph_constructor_threshold.GraphConstructorThreshold.__init__--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphconstructorpercentage" class="md-nav__link">
    GraphConstructorPercentage
  </a>
  
    <nav class="md-nav" aria-label="GraphConstructorPercentage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#photonai_graph.GraphConstruction.graph_constructor_percentage.GraphConstructorPercentage.__init__--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphconstructorthresholdwindow" class="md-nav__link">
    GraphConstructorThresholdWindow
  </a>
  
    <nav class="md-nav" aria-label="GraphConstructorThresholdWindow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#photonai_graph.GraphConstruction.graph_constructor_threshold_window.GraphConstructorThresholdWindow.__init__--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphconstructorpercentagewindow" class="md-nav__link">
    GraphConstructorPercentageWindow
  </a>
  
    <nav class="md-nav" aria-label="GraphConstructorPercentageWindow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#photonai_graph.GraphConstruction.graph_constructor_percentage_window.GraphConstructorPercentageWindow.__init__--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphconstructorknn" class="md-nav__link">
    GraphConstructorKNN
  </a>
  
    <nav class="md-nav" aria-label="GraphConstructorKNN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#photonai_graph.GraphConstruction.graph_constructor_knn.GraphConstructorKNN.__init__--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphconstructorspatial" class="md-nav__link">
    GraphConstructorSpatial
  </a>
  
    <nav class="md-nav" aria-label="GraphConstructorSpatial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#photonai_graph.GraphConstruction.graph_constructor_spatial.GraphConstructorSpatial.__init__--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphconstructorrandomwalks" class="md-nav__link">
    GraphConstructorRandomWalks
  </a>
  
    <nav class="md-nav" aria-label="GraphConstructorRandomWalks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#photonai_graph.GraphConstruction.graph_constructor_random_walks.GraphConstructorRandomWalks.__init__--example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_conversions/" class="md-nav__link">
        Graph Conversions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../population_averaging/" class="md-nav__link">
        Population Averaging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dynamic_utils/" class="md-nav__link">
        Dynamic Utilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_measures/" class="md-nav__link">
        Graph Measures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_embeddings/" class="md-nav__link">
        Graph Embeddings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_kernels/" class="md-nav__link">
        Graph Kernels
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_convnets/" class="md-nav__link">
        Graph Neural Networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_utilities/" class="md-nav__link">
        Graph Utilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../graph_controllability/" class="md-nav__link">
        Graph Controllability
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/networkx_pipeline/" class="md-nav__link">
        Networkx example
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          Graph Embeddings
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Graph Embeddings" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Graph Embeddings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/GraphEmbedding_lem_example/" class="md-nav__link">
        Graph Embeding LEM Example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/GraphEmbedding_lle_example/" class="md-nav__link">
        Graph Embedding LLE Example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_3">
          Graph Neural Networks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Graph Neural Networks" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Graph Neural Networks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/GraphNN_classification_example/" class="md-nav__link">
        GraphNN Classification
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/GraphNN_regression_example/" class="md-nav__link">
        Graph Neural Network regression example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4" type="checkbox" id="__nav_7_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_4">
          Graph Kernels
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Graph Kernels" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          Graph Kernels
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/GraphKernel_PyramidMatch_example/" class="md-nav__link">
        Graph Kernel Pyramid Match example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/GraphKernel_SVMtheta_example/" class="md-nav__link">
        Graph Kernel SVM theta example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5" type="checkbox" id="__nav_7_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_5">
          Graph Measures
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Graph Measures" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_5">
          <span class="md-nav__icon md-icon"></span>
          Graph Measures
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/GraphMeasure_extraction_example/" class="md-nav__link">
        Graph Measure extraction example
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/GraphMeasure_pipeline_example/" class="md-nav__link">
        Graph Measure Pipeline example
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/GraphLitmusTest/" class="md-nav__link">
        Graph Litmus Test
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/wwu-mmll/photonai-graph/edit/master/documentation/docs/api/graph_construction.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="graph-construction">Graph Construction</h1>
<p>The Graph Construction module is a collection of transformer classes that construct adjacency matrices 
for graphs based on connectivity matrices. This includes well established methods like thresholding the 
connectivity matrix, but also allows for more complex adjacency matrix construction methods like kNN-based 
matrix construction. The adjacency matrices that the transform method of each class returns can then be 
converted into different formats like networkx, scipy sparse or dgl graphs.</p>
<p>Depending on the type of data you are working with, you might have very noisy data. 
Or you might be interested only in weaker connections. Or you want the same adjacency matrix for every graph. 
Transforming your connectivity matrix into an adjacency matrix of your choice can be achieved by the different 
graph constructor classes, which implement different transformations of the connectivity matrix. In the case of 
noisy data, thresholding the connections might reduce noise and increase computational speed, by having to evaluate 
less edges later on. Picking a threshold or percentage window allows you to discard other connections, focusing on 
the information that is contained in the connections that fall in your window range. And creating the same 
adjacency matrix for every graph, with only different node features might allow you to use graph algorithms you 
might otherwise not be able to use.</p>
<pre class="mermaid"><code>classDiagram-v2
    direction RL
    class Graph Constructor{
    +fit()
    +transform()
    +fit_transform()
    }
    Graph Constructor &lt;|-- GraphConstructorThreshold
    Graph Constructor &lt;|-- GraphConstructorPrecentage
    Graph Constructor &lt;|-- GraphConstructorThresholdWindow
    Graph Constructor &lt;|-- GraphConstructorPercentageWindow
    Graph Constructor &lt;|-- GraphConstructorKNN
    Graph Constructor &lt;|-- GraphConstructorSpatial
    Graph Constructor &lt;|-- GraphConstructorRandomWalks

    link GraphConstructor "/photonai_graph/api/graph_construction/#graphconstructor"
    link GraphConstructorThreshold "/photonai_graph/api/graph_construction/#graphconstructorthreshold"
    link GraphConstructorPercentage "/photonai_graph/api/graph_construction/#graphconstructorpercentage"
    link GraphConstructorThresholdWindow "/photonai_graph/api/graph_construction/#graphconstructorthresholdwindow"
    link GraphConstructorPercentageWindow "/photonai_graph/api/graph_construction/#graphconstructorpercentagewindow"
    link GraphConstructorKNN "/photonai_graph/api/graph_construction/#graphconstructorknn"
    link GraphConstructorSpatial "/photonai_graph/api/graph_construction/#graphconstructorspatial"
    link GraphConstructorRandomWalks "/photonai_graph/api/graph_construction/#graphconstructorrandomwalks"</code></pre>
<p>Hint: By clicking on the class in the above diagram you will find the according documentation.</p>
<h2 id="graphconstructor">GraphConstructor</h2>


<div class="doc doc-object doc-function">



  <div class="doc doc-contents first">
  
      <p>Base class for all graph constructors. Implements
methods shared by different constructors.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>one_hot_nodes</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to return a one hot node encoding as feature or not</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to convert all matrix values to absolute values before applying
other transformations</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>fisher_transform</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to perform a fisher transform of every matrix</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>discard_original_connectivity</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>If true the second index of the last dimension will be the original connectivity.
Otherwise the original connectivity will be dropped from the matrix.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_fisher</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Changes the values to absolute values. Is applied after fisher transform and before
z-score transformation</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>performs a zscore transformation of the data. Applied after fisher transform and np_abs
eval_final_perfomance is set to True</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to use the absolute values of the z-score transformation or allow for negative
values. Applied after fisher transform, use_abs and zscore</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>adjacency_axis</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>position of the adjacency matrix, default being zero</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>logs</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Path to the log data</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div><h2 id="graphconstructorthreshold">GraphConstructorThreshold</h2>


<div class="doc doc-object doc-function">



  <div class="doc doc-contents first">
  
      <p>Transformer class for generating adjacency matrices
from connectivity matrices. Thresholds matrix based
on a chosen threshold value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>threshold value below which to set matrix entries to zero</p></td>
          <td>
                <code>0.1</code>
          </td>
        </tr>
        <tr>
          <td><code>concatenation_axis</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>axis along which to concatenate the adjacency and feature matrix</p></td>
          <td>
                <code>3</code>
          </td>
        </tr>
        <tr>
          <td><code>return_adjacency_only</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to return the adjacency matrix only (1) or also a feature matrix (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>retain_weights</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to retain weight values or not</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>discard_original_connectivity</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>If true the original connectivity will be passed on. Otherwise it gets discarded</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>one_hot_nodes</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Whether to generate a one hot encoding of the nodes in the matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to convert all matrix values to absolute values before applying
other transformations</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>fisher_transform</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to perform a fisher transform of each matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_fisher</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>changes the values to absolute values. Is applied after fisher transform and before z-score transformation</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>performs a zscore transformation of the data. Applied after fisher transform and np_abs</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to use the absolute values of the z-score transformation or allow for negative values</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>adjacency_axis</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>position of the adjacency matrix, default being zero</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>logs</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Path to the log data</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>
      <h3 id="photonai_graph.GraphConstruction.graph_constructor_threshold.GraphConstructorThreshold.__init__--example">Example</h3>
<p>Use outside of a PHOTON pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">constructor</span> <span class="o">=</span> <span class="n">GraphConstructorThreshold</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                                        <span class="n">fisher_transform</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                        <span class="n">use_abs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Or as part of a pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">my_pipe</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">PipelineElement</span><span class="p">(</span><span class="s1">&#39;GraphConstructorThreshold&#39;</span><span class="p">,</span>
                            <span class="n">hyperparameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;threshold&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">}))</span>
</code></pre></div>

  </div>

</div><h2 id="graphconstructorpercentage">GraphConstructorPercentage</h2>


<div class="doc doc-object doc-function">



  <div class="doc doc-contents first">
  
      <p>Transformer class for generating adjacency matrices
from connectivity matrices. Selects the top x percent
of connections and sets all other connections to zero</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>percentage</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>value of percent of connections to discard. A value of 90 keeps only the top 10%</p></td>
          <td>
                <code>80</code>
          </td>
        </tr>
        <tr>
          <td><code>retain_weights</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>whether to retain weight values or not</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>one_hot_nodes</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Whether to generate a one hot encoding of the nodes in the matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to convert all matrix values to absolute values before applying
other transformations</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>fisher_transform</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to perform a fisher transform of each matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_fisher</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>changes the values to absolute values. Is applied after fisher transform and before z-score transformation</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>performs a zscore transformation of the data. Applied after fisher transform and np_abs</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to use the absolute values of the z-score transformation or allow for negative values</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>adjacency_axis</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>position of the adjacency matrix, default being zero</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>logs</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Path to the log data</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>
      <h3 id="photonai_graph.GraphConstruction.graph_constructor_percentage.GraphConstructorPercentage.__init__--example">Example</h3>
<p>Use outside of a PHOTON pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">constructor</span> <span class="o">=</span> <span class="n">GraphConstructorPercentage</span><span class="p">(</span><span class="n">percentage</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
                                         <span class="n">fisher_transform</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                         <span class="n">use_abs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Or as part of a pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">my_pipe</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">PipelineElement</span><span class="p">(</span><span class="s1">&#39;GraphConstructorPercentage&#39;</span><span class="p">,</span>
                            <span class="n">hyperparameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;percentage&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">}))</span>
</code></pre></div>

  </div>

</div><h2 id="graphconstructorthresholdwindow">GraphConstructorThresholdWindow</h2>


<div class="doc doc-object doc-function">



  <div class="doc doc-contents first">
  
      <p>Transformer class for generating adjacency matrices
from connectivity matrices. Thresholds matrix based
on a chosen threshold window.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>threshold_upper</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>upper limit of the threshold window</p></td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>threshold_lower</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>lower limit of the threshold window</p></td>
          <td>
                <code>0.8</code>
          </td>
        </tr>
        <tr>
          <td><code>retain_weights</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>whether to retain weight values or not</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>one_hot_nodes</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Whether to generate a one hot encoding of the nodes in the matrix.</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to convert all matrix values to absolute values before applying
other transformations</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>fisher_transform</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Perform a fisher transform of each matrix. No (0) or Yes (1)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_fisher</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Changes the values to absolute values. Is applied after fisher transform and before
z-score transformation</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>performs a zscore transformation of the data. Applied after fisher transform and np_abs
eval_final_perfomance is set to True</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to use the absolute values of the z-score transformation or allow for negative
values. Applied after fisher transform, use_abs and zscore</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>adjacency_axis</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>position of the adjacency matrix, default being zero</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>logs</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Path to the log data</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>
      <h3 id="photonai_graph.GraphConstruction.graph_constructor_threshold_window.GraphConstructorThresholdWindow.__init__--example">Example</h3>
<p>Use outside of a PHOTON pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">constructor</span> <span class="o">=</span> <span class="n">GraphConstructorThresholdWindow</span><span class="p">(</span><span class="n">threshold_upper</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
                                              <span class="n">threshold_lower</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
                                              <span class="n">use_abs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Or as part of a pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">my_pipe</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">PipelineElement</span><span class="p">(</span><span class="s1">&#39;GraphConstructorThresholdWindow&#39;</span><span class="p">,</span>
                            <span class="n">hyperparameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;threshold_upper&#39;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">,</span> <span class="s1">&#39;threshold_lower&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">}))</span>
</code></pre></div>

  </div>

</div><h2 id="graphconstructorpercentagewindow">GraphConstructorPercentageWindow</h2>


<div class="doc doc-object doc-function">



  <div class="doc doc-contents first">
  
      <p>Transformer class for generating adjacency matrices
from connectivity matrices. Selects the top x percent
of connections and sets all other connections to zero</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>percentage_upper</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>upper limit of the percentage window</p></td>
          <td>
                <code>50</code>
          </td>
        </tr>
        <tr>
          <td><code>percentage_lower</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>lower limit of the percentage window</p></td>
          <td>
                <code>10</code>
          </td>
        </tr>
        <tr>
          <td><code>one_hot_nodes</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Whether to generate a one hot encoding of the nodes in the matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to convert all matrix values to absolute values before applying
other transformations</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>fisher_transform</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to perform a fisher transform of each matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_fisher</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>changes the values to absolute values. Is applied after fisher transform and before z-score transformation</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>performs a zscore transformation of the data. Applied after fisher transform and np_abs</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to use the absolute values of the z-score transformation or allow for negative values</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>adjacency_axis</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>position of the adjacency matrix, default being zero</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>logs</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Path to the log data</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>
      <h3 id="photonai_graph.GraphConstruction.graph_constructor_percentage_window.GraphConstructorPercentageWindow.__init__--example">Example</h3>
<p>Use outside of a PHOTON pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">constructor</span> <span class="o">=</span> <span class="n">GraphConstructorPercentageWindow</span><span class="p">(</span><span class="n">percentage_upper</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
                                               <span class="n">percentage_lower</span><span class="o">=</span><span class="mf">0.7</span>
                                               <span class="n">fisher_transform</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                               <span class="n">use_abs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Or as part of a pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">my_pipe</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">PipelineElement</span><span class="p">(</span><span class="s1">&#39;GraphConstructorPercentageWindow&#39;</span><span class="p">,</span>
                            <span class="n">hyperparameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;percentage_upper&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="s1">&#39;percentage_lower&#39;</span><span class="p">:</span> <span class="mf">0.7</span><span class="p">}))</span>
</code></pre></div>

  </div>

</div><h2 id="graphconstructorknn">GraphConstructorKNN</h2>


<div class="doc doc-object doc-function">



  <div class="doc doc-contents first">
  
      <p>Transformer class for generating adjacency matrices
from connectivity matrices. Selects the k nearest
neighbours for each node based on pairwise distance.
Recommended for functional connectivity.
Adapted from Ktena et al, 2017.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>k_distance</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>the k nearest neighbours value, for the kNN algorithm.</p></td>
          <td>
                <code>10</code>
          </td>
        </tr>
        <tr>
          <td><code>one_hot_nodes</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Whether to generate a one hot encoding of the nodes in the matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to convert all matrix values to absolute values before applying
other transformations</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>fisher_transform</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to perform a fisher transform of each matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_fisher</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>changes the values to absolute values. Is applied after fisher transform and before z-score transformation</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>performs a zscore transformation of the data. Applied after fisher transform and np_abs</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to use the absolute values of the z-score transformation or allow for negative values</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>adjacency_axis</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>position of the adjacency matrix, default being zero</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>logs</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Path to the log data</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>
      <h3 id="photonai_graph.GraphConstruction.graph_constructor_knn.GraphConstructorKNN.__init__--example">Example</h3>
<p>Use outside of a PHOTON pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">constructor</span> <span class="o">=</span> <span class="n">GraphConstructorKNN</span><span class="p">(</span><span class="n">k_distance</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
                                  <span class="n">fisher_transform</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                  <span class="n">use_abs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Or as part of a pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">my_pipe</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">PipelineElement</span><span class="p">(</span><span class="s1">&#39;GraphConstructorKNN&#39;</span><span class="p">,</span>
                            <span class="n">hyperparameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;k_distance&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">}))</span>
</code></pre></div>

  </div>

</div><h2 id="graphconstructorspatial">GraphConstructorSpatial</h2>


<div class="doc doc-object doc-function">



  <div class="doc doc-contents first">
  
      <p>Transformer class for generating adjacency matrices
from connectivity matrices. Selects the k nearest
neighbours for each node based on spatial distance
of the coordinates in the chosen atlas. This method
can be applied to both DTI and rs-fMRI data.
Adapted from Ktena et al, 2017.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Currently considered untested!
See <a href='https://github.com/wwu-mmll/photonai_graph/issues/65' target='_blank'>Ticket</a></p>
</div>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>k_distance</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>the k nearest neighbours value, for the kNN algorithm.</p></td>
          <td>
                <code>10</code>
          </td>
        </tr>
        <tr>
          <td><code>atlas_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>name of the atlas coordinate file</p></td>
          <td>
                <code>&#39;ho&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>atlas_folder</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>path to the atlas coordinate file</p></td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>one_hot_nodes</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Whether to generate a one hot encoding of the nodes in the matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to convert all matrix values to absolute values before applying
other transformations</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>fisher_transform</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to perform a fisher transform of each matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_fisher</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>changes the values to absolute values. Is applied after fisher transform and before z-score transformation</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>performs a zscore transformation of the data. Applied after fisher transform and np_abs</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to use the absolute values of the z-score transformation or allow for negative values</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>adjacency_axis</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>position of the adjacency matrix, default being zero</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>logs</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Path to the log data</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>
      <h3 id="photonai_graph.GraphConstruction.graph_constructor_spatial.GraphConstructorSpatial.__init__--example">Example</h3>
<p>Use outside of a PHOTON pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">constructor</span> <span class="o">=</span> <span class="n">GraphConstructorSpatial</span><span class="p">(</span><span class="n">k_distance</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
                                      <span class="n">atlas_name</span><span class="o">=</span><span class="s2">&quot;ho_coords.csv&quot;</span><span class="p">,</span>
                                      <span class="n">atlas_path</span><span class="o">=</span><span class="s2">&quot;path/to/your/data/&quot;</span><span class="p">,</span>
                                      <span class="n">fisher_transform</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                      <span class="n">use_abs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Or as part of a pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">my_pipe</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">PipelineElement</span><span class="p">(</span><span class="s1">&#39;GraphConstructorSpatial&#39;</span><span class="p">,</span>
                            <span class="n">hyperparameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;k_distance&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
                            <span class="s1">&#39;atlas_name&#39;</span><span class="p">:</span> <span class="s2">&quot;ho_coords.csv&quot;</span><span class="p">,</span> <span class="s1">&#39;atlas_path&#39;</span><span class="p">:</span> <span class="s2">&quot;path/to/your/data/&quot;</span><span class="p">}))</span>
</code></pre></div>

  </div>

</div><h2 id="graphconstructorrandomwalks">GraphConstructorRandomWalks</h2>


<div class="doc doc-object doc-function">



  <div class="doc doc-contents first">
  
      <p>Transformer class for generating adjacency matrices
from connectivity matrices. Generates a kNN matrix
and performs random walks on these. The coocurrence
of two nodes in those walks is then used to generate
a higher-order adjacency matrix, by applying the kNN
algorithm on the matrix again.
Adapted from Ma et al., 2019.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>k_distance</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>the k nearest neighbours value, for the kNN algorithm.</p></td>
          <td>
                <code>10</code>
          </td>
        </tr>
        <tr>
          <td><code>number_of_walks</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>number of walks to take to sample the random walk matrix</p></td>
          <td>
                <code>10</code>
          </td>
        </tr>
        <tr>
          <td><code>walk_length</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>length of the random walk, as the number of steps</p></td>
          <td>
                <code>10</code>
          </td>
        </tr>
        <tr>
          <td><code>window_size</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>size of the sliding window from which to sample to coocurrence of two nodes</p></td>
          <td>
                <code>5</code>
          </td>
        </tr>
        <tr>
          <td><code>no_edge_weight</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to return an edge weight (0) or not (1)</p></td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>one_hot_nodes</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Whether to generate a one hot encoding of the nodes in the matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to convert all matrix values to absolute values before applying
other transformations</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>fisher_transform</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to perform a fisher transform of each matrix (1) or not (0)</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_fisher</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>changes the values to absolute values. Is applied after fisher transform and before z-score transformation</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>performs a zscore transformation of the data. Applied after fisher transform and np_abs</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>use_abs_zscore</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>whether to use the absolute values of the z-score transformation or allow for negative values</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>adjacency_axis</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>position of the adjacency matrix, default being zero</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>logs</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Path to the log data</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>
      <h3 id="photonai_graph.GraphConstruction.graph_constructor_random_walks.GraphConstructorRandomWalks.__init__--example">Example</h3>
<p>Use outside of a PHOTON pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">constructor</span> <span class="o">=</span> <span class="n">GraphConstructorRandomWalks</span><span class="p">(</span><span class="n">k_distance</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                                          <span class="n">number_of_walks</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span>
                                          <span class="n">fisher_transform</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                          <span class="n">use_abs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>Or as part of a pipeline</p>
<div class="highlight"><span class="filename">Python</span><pre><span></span><code><span class="n">my_pipe</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">PipelineElement</span><span class="p">(</span><span class="s1">&#39;GraphConstructorRandomWalks&#39;</span><span class="p">,</span>
                            <span class="n">hyperparameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;k_distance&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                            <span class="s1">&#39;number_of_walks&#39;</span><span class="p">:</span> <span class="mi">25</span><span class="p">}))</span>
</code></pre></div>

  </div>

</div>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../introduction/" class="md-footer__link md-footer__link--prev" aria-label="Previous: API Introduction" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              API Introduction
            </div>
          </div>
        </a>
      
      
        
        <a href="../graph_conversions/" class="md-footer__link md-footer__link--next" aria-label="Next: Graph Conversions" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Graph Conversions
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://twitter.com/wwu_mmll" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["toc.integrate"], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
        <script src="../../assets/javascript/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>